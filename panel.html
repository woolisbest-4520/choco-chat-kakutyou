<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <style>
    body { font-family: sans-serif; padding: 15px; background: #eceff1; }
    .card { background: white; padding: 15px; border-radius: 12px; box-shadow: 0 4px 6px rgba(0,0,0,0.1); }
    h2 { font-size: 14px; margin-top: 0; color: #444; border-bottom: 2px solid #3498db; padding-bottom: 5px; }
    label { display: block; font-size: 12px; margin: 10px 0 5px; color: #666; }
    input[type="color"] { width: 100%; height: 40px; border: none; cursor: pointer; border-radius: 4px; }
    .hint { font-size: 11px; color: #888; margin-top: 10px; line-height: 1.4; }
  </style>
</head>
<body>
  <div class="card">
    <h2>メッセージ配置設定</h2>
    <label>自分のメッセージの色 (左側)</label>
    <input type="color" id="myMsgColor" value="#3498db">
    
    <div class="hint">
      ※この設定を保存すると、自分の送信したメッセージが強制的に<b>左側</b>へ配置され、指定した色になります。
    </div>
  </div>

  <script>
    const colorInput = document.getElementById('myMsgColor');

    // 保存処理（変更のたびに自動保存）
    colorInput.addEventListener('input', () => {
      chrome.storage.local.set({ 
        myMsgColor: colorInput.value 
      });
    });

    // 初期値の読み込み
    chrome.storage.local.get(['myMsgColor'], (res) => {
      if (res.myMsgColor) colorInput.value = res.myMsgColor;
    });
  </script>
</body>
</html>
